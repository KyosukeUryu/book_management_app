<div class="books_wrapper">
  <h2>既読書籍一覧</h2>

  <%= search_form_for @q do |f| %>
    <%= f.label :title_or_author_cont, 'タイトルか著者名' %>
    <%= f.search_field :title_or_author_cont %>

    <%= f.label :status_eq, 'ステータス' %>
    <%= f.select :status_eq, FinishedBook.statuses, include_blank: true, selected: '' %>

    <%= f.submit %>
  <% end %>
  <%= link_to '元に戻す', finished_books_path %>

  <table>
    <tr>
      <th>書籍名</th>
      <th>著者名</th>
      <th>ステータス</th>
      <th>処分予定時期</th>
      <th>編集</th>
      <th>削除</th>
    </tr>
    <% @finished_books.each do |book| %>
      <tr>
        <td><%= link_to book.title, finished_book_path(book) %></td>
        <td><%= book.author %></td>
        <td><%= book.status_i18n %></td>
        <td><%= book.desposal_expired %></td>
        <td><%= link_to '編集する', edit_finished_book_path(book) %></td>
        <td><%= link_to '削除する', finished_book_path(book), method: :delete, data: {confirm: '本当に削除しますか？'} %></td>
      </tr>
    <% end %>
  </table>
  <%= paginate @finished_books %>
  <%= link_to '新規未読書籍登録', new_unread_book_path %>
</div>
